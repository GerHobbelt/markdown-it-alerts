{"version":3,"file":"markdownItVtrans.modern.js","sources":["../index.js"],"sourcesContent":["\nconst container = require('@gerhobbelt/markdown-it-container');\nconst Sanscript = require('@sanskrit-coders/sanscript');\n\nconst isInSanscriptSchemes = vtransScheme => [\n  'bengali',\n  'devanagari',\n  'gujarati',\n  'gurmukhi',\n  'kannada',\n  'malayalam',\n  'oriya',\n  'tamil',\n  'telugu'\n].indexOf(vtransScheme) > -1;\n\nmodule.exports = function vtrans_plugin(md, options) {\n  md.use(container, 'vtrans', {\n    render: function (tokens, idx) {\n      const openingTag = 1;\n      const isOpeningTag = tokens[idx].nesting === openingTag;\n      const containerInfo = tokens[idx].info;\n      const getScheme = containerInfo.match(/^\\svtrans\\s(.*)$/);\n      const vtransScheme = (getScheme) ? getScheme[1] : '';\n\n      if (isOpeningTag && isInSanscriptSchemes(vtransScheme)) {\n\n        md.renderer.rules.text = (tokens, idx) =>\n          `${Sanscript.t(tokens[idx].content, 'itrans_dravidian', vtransScheme)}`;\n\n        return `<div class=\"vtrans vtrans-${vtransScheme}\">\\n`;\n      }\n      return '</div>\\n';\n\n    }\n  });\n\n};\n"],"names":["container","require","Sanscript","isInSanscriptSchemes","vtransScheme","indexOf","module","exports","vtrans_plugin","md","options","use","render","tokens","idx","openingTag","isOpeningTag","nesting","containerInfo","info","getScheme","match","renderer","rules","text","t","content"],"mappings":"AACA,MAAMA,SAAS,GAAGC,OAAO,CAAC,mCAAD,CAAzB;;AACA,MAAMC,SAAS,GAAGD,OAAO,CAAC,4BAAD,CAAzB;;AAEA,MAAME,oBAAoB,GAAGC,YAAY,IAAI,CAC3C,SAD2C,EAE3C,YAF2C,EAG3C,UAH2C,EAI3C,UAJ2C,EAK3C,SAL2C,EAM3C,WAN2C,EAO3C,OAP2C,EAQ3C,OAR2C,EAS3C,QAT2C,EAU3CC,OAV2C,CAUnCD,YAVmC,IAUnB,CAAC,CAV3B;;AAYAE,MAAM,CAACC,OAAP,GAAiB,SAASC,aAAT,CAAuBC,EAAvB,EAA2BC,OAA3B,EAAoC;AACnDD,EAAAA,EAAE,CAACE,GAAH,CAAOX,SAAP,EAAkB,QAAlB,EAA4B;AAC1BY,IAAAA,MAAM,EAAE,UAAUC,MAAV,EAAkBC,GAAlB,EAAuB;AAC7B,YAAMC,UAAU,GAAG,CAAnB;AACA,YAAMC,YAAY,GAAGH,MAAM,CAACC,GAAD,CAAN,CAAYG,OAAZ,KAAwBF,UAA7C;AACA,YAAMG,aAAa,GAAGL,MAAM,CAACC,GAAD,CAAN,CAAYK,IAAlC;AACA,YAAMC,SAAS,GAAGF,aAAa,CAACG,KAAd,CAAoB,kBAApB,CAAlB;AACA,YAAMjB,YAAY,GAAIgB,SAAD,GAAcA,SAAS,CAAC,CAAD,CAAvB,GAA6B,EAAlD;;AAEA,UAAIJ,YAAY,IAAIb,oBAAoB,CAACC,YAAD,CAAxC,EAAwD;AAEtDK,QAAAA,EAAE,CAACa,QAAH,CAAYC,KAAZ,CAAkBC,IAAlB,GAAyB,CAACX,MAAD,EAASC,GAAT,KACtB,GAAEZ,SAAS,CAACuB,CAAV,CAAYZ,MAAM,CAACC,GAAD,CAAN,CAAYY,OAAxB,EAAiC,kBAAjC,EAAqDtB,YAArD,CAAmE,EADxE;;AAGA,eAAQ,6BAA4BA,YAAa,MAAjD;AACD;;AACD,aAAO,UAAP;AAED;AAjByB,GAA5B;AAoBD,CArBD"}